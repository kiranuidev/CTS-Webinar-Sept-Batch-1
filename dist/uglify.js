angular.module("appValues",[]),angular.module("appValues").value("APP_VALUES",{appName:"Vehicle Dealers",Version:"1.0.0",baseUrl:"app/api/",baseImageUrl:"app/images",baseTemplatePath:"app/templates/",ErrorMessage:"Something Went Wrong. Please try later"}),angular.module("components").directive("ctsAlphabetsOnly",[function(){return{restrict:"A",link:function(e,t,n){t.bind("keypress",function(e){console.log(e.key);var t=new RegExp(/^[a-zA-Z\s]+$/);t.test(e.key)||e.preventDefault()})}}}]),angular.module("components").directive("ctsNumbersOnly",[function(){return{restrict:"A",link:function(e,t,n){t.bind("keypress",function(e){console.log(e.key);var t=new RegExp(/^[0-9]+$/);t.test(e.key)||e.preventDefault()})}}}]),angular.module("components").directive("ctsCheckUser",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var o=[{name:"user1"},{name:"user2"}];t.bind("blur",function(){console.log(this.value);var t=_.find(o,{name:this.value});return t?r.$setValidity("usercheck",!0):r.$setValidity("usercheck",!1),e.$apply(),!0})}}}]),angular.module("components").directive("ctsCompanyName",[function(){return{template:"Vehicle Dealers!!!",restrict:"A,E,C,M"}}]),angular.module("components").directive("ctsCustomClick",[function(){return{restrict:"A",link:function(e,t,n){t.bind("click",function(t){e.$eval(n.ctsCustomClick)})}}}]),angular.module("components").directive("ctsDatePicker",[function(){return{restrict:"A",link:function(e,t,n){t.datepicker()}}}]),angular.module("components").directive("ctsCustomLogo",["$compile",function(e){return{template:"<h1>{{logoName}}</h1>",compile:function(e,t){return console.log(e),{pre:function(e,t,n){console.log(t)},post:function(e,t,n){e.logoName="CTS",console.log(t)}}}}}]),angular.module("components").directive("ctsLoginPage",[function(){return{templateUrl:"app/templates/login.html"}}]),angular.module("components").directive("ctsTrans",[function(){return{template:"<ng-transclude></ng-transclude><h1>I am the</h1>",transclude:!0}}]),angular.module("components",[]),angular.module("ctsFilters").filter("phoneformat",[function(){function e(e,t){var n="";if(10==e.toString().length){var r=e.toString().substring(0,3),o=e.toString().substring(3,6),a=e.toString().substring(6,10);n=t+r+"-"+o+"-"+a}return n}function t(e,t){var n="";if(10==e.toString().length){var r=e.toString().substring(0,5),o=e.toString().substring(5,10);n=t+r+"-"+o}return n}return function(n,r,o){return"US"==r?e(n,o):"IN"==r?t(n,o):n}}]),angular.module("ctsFilters",[]),angular.module("header").controller("headerCtrl",["$scope","$rootScope","APP_VALUES","$translate",function(e,t,n,r){e.heading=n.appName;var o=n.baseTemplatePath;e.template=o+"login.html",e.cartCount=0,e.totalCost=0,e.changeLanguage=function(e){r.use(e)},e.navItems=[{displayName:"Home",path:"home"},{displayName:"Vehicles",path:"vehicles"},{displayName:"Login",path:"login"},{displayName:"Register",path:"register"},{displayName:"Cart",path:"cart"}],t.$on("AddedVehicle",function(t,n){e.totalCost+=n.cost,e.cartCount++})}]),angular.module("header",[]),angular.module("login").controller("loginCtrl",["$scope",function(e){var t=this;e.userName="xxx",t.userDetails={},t.login=function(){console.log(t.userDetails)},e.$watch("userName",function(e,t){console.log(e),console.log(t)}),setTimeout(function(){e.userName="New User"},1e3)}]),angular.module("login",[]),angular.module("lookup").factory("lookupFact",["apiService","$q",function(e,t){return{getCountries:function(){var n=t.defer();return e.apiGet("countries.json").then(function(e){n.resolve(e)}).catch(function(e){n.reject(e)}),n.promise}}}]),angular.module("lookup").service("lookupSvc",["apiService","$q",function(e,t){this.getCountries=function(){var n=t.defer();return e.apiGet("countries.json").then(function(e){n.resolve(e)}).catch(function(e){n.reject(e)}),n.promise}}]),angular.module("lookup",[]),angular.module("main").service("apiService",["$http","$q","APP_VALUES","$uibModal","$timeout",function(e,t,n,r,o){this.apiGet=function(a){var i=r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:n.baseTemplatePath+"progressBar.html"}),l=t.defer();return e.get(n.baseUrl+a).then(function(e){o(function(){i.close(),l.resolve(e)},2e3)}).catch(function(e){l.reject(e)}),l.promise},this.apiPost=function(n,r){var o=t.defer();return e.post(n,r).then(function(e){o.resolve(e)}).catch(function(e){o.reject(e)}),o.promise},this.apiPut=function(n,r){var o=t.defer();e.put(n,r).then(function(e){o.resolve(e)}).catch(function(e){o.reject(e)})},this.apiDelete=function(n,r){var o=t.defer();e.delete(n,r).then(function(e){o.resolve(e)}).catch(function(e){o.reject(e)})}}]),angular.module("main",[]),angular.module("register").controller("registerCtrl",["lookupFact","$scope",function(e,t){function n(e){var t=e.date,n=e.mode;return"day"===n&&(0===t.getDay()||6===t.getDay())}function r(e){var n=e.date,r=e.mode;if("day"===r)for(var o=new Date(n).setHours(0,0,0,0),a=0;a<t.events.length;a++){var i=new Date(t.events[a].date).setHours(0,0,0,0);if(o===i)return t.events[a].status}return""}var o=this;e.getCountries().then(function(e){o.countries=e.data.countries}).catch(function(e){console.log(e)}),o.user={},o.register=function(){console.log(o.user)},t.today=function(){t.dt=new Date},t.today(),t.clear=function(){t.dt=null},t.inlineOptions={customClass:r,minDate:new Date,showWeeks:!0},t.dateOptions={dateDisabled:n,formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},t.toggleMin=function(){t.inlineOptions.minDate=t.inlineOptions.minDate?null:new Date,t.dateOptions.minDate=t.inlineOptions.minDate},t.toggleMin(),t.open1=function(){t.popup1.opened=!0},t.open2=function(){t.popup2.opened=!0},t.setDate=function(e,n,r){t.dt=new Date(e,n,r)},t.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],t.format=t.formats[3],t.altInputFormats=["M!/d!/yyyy"],t.popup1={opened:!1},t.popup2={opened:!1};var a=new Date;a.setDate(a.getDate()+1);var i=new Date;i.setDate(a.getDate()+1),t.events=[{date:a,status:"full"},{date:i,status:"partially"}]}]),angular.module("register",[]),angular.module("register").config([function(){console.log("I am the register app")}]),angular.module("register").run([function(){console.log("I am the register app run")}]),angular.module("vehicles").controller("cartCtrl",["$scope","cartSvc",function(e,t){e.cartVehicles=t.getVehiclesFromCart()}]),angular.module("vehicles").service("cartSvc",[function(){var e=[];this.addVehicleToCart=function(t){e.push(t)},this.getVehiclesFromCart=function(){return e},this.removeVehicleFromCart=function(e){}}]),angular.module("vehicles").controller("vehiclesCtrl",["$scope","vehicleSvc","cartSvc","$rootScope","$state",function(e,t,n,r,o){e.vehicleCount=5,e.orderByYear="Year",t.getVehicleList().then(function(t){e.vehicles=t.data.vehicles}).catch(function(t){e.showAlert=!0}),e.showMoreVehicles=function(){e.vehicleCount+=5},e.sortByYear=function(){e.orderByYear="Year"==e.orderByYear?"-Year":"Year"},e.addToCart=function(e){r.$broadcast("AddedVehicle",{cost:e.Price}),n.addVehicleToCart(e)},e.GoToCheckOut=function(){o.go("index.cart")}}]),angular.module("vehicles").service("vehicleSvc",["apiService","$q",function(e,t){var n;this.getVehicleList=function(){var r=t.defer();return n?r.resolve(n):e.apiGet("vehicles.json").then(function(e){n=e,r.resolve(n)}).catch(function(e){r.reject(e)}),r.promise}}]),angular.module("vehicles",[]),angular.module("vehicles").config([function(){console.log("I am the vehicles app")}]),angular.module("vehicles").run([function(){console.log("I am the vehicles app run")}]),angular.module("dealersApp",["login","vehicles","register","header","ctsFilters","lookup","ui.bootstrap","appValues","main","pascalprecht.translate","components","ui.router"]),angular.module("dealersApp").config(["$translateProvider","$stateProvider",function(e,t){var n={templateUrl:"app/templates/home.html"},r={templateUrl:"app/templates/vehicles.html",controller:"vehiclesCtrl"},o={templateUrl:"app/templates/login.html",controller:"loginCtrl as loginVM"},a={templateUrl:"app/templates/cart.html",controller:"cartCtrl"},i={templateUrl:"app/templates/register.html",controller:"registerCtrl as vm"};t.state("index",{url:"",views:{header:{templateUrl:"app/templates/header.html",controller:"headerCtrl"},footer:{template:"<hr>@kiran 2016"}}}).state("index.home",n).state("index.vehicles",r).state("index.cart",a).state("index.login",o).state("index.register",i),e.translations("en",{Home:"Home",Vehicles:"Vehicles",Login:"Login",Register:"Register",Cart:"Cart",Basket:"Basket"}),e.translations("de",{Home:"Zuhause",Vehicles:"Fahrzeuge",Login:"Anmeldung",Register:"Neu registrieren",Cart:"Karte",Basket:"Korb"}),console.log("I am the main app")}]),angular.module("dealersApp").run([function(){console.log("I am the main app run")}]);